# 薬機法リスクチェッカー 動作確認手順

## 修正内容
開発環境でも本番環境のAPI（https://yakki-checker.onrender.com）を使用するように設定を変更しました。

## 動作確認手順

### 1. サーバーの起動（フロントエンドのみ）

```bash
# プロジェクトディレクトリへ移動
cd /home/seri/yakki-check/yakki-checker

# ポート8000が空いているか確認
lsof -ti:8000 | xargs kill -9 2>/dev/null || true

# フロントエンドサーバーを起動
python3 -m http.server 8000
```

### 2. ブラウザでアクセス

```
http://localhost:8000
```

### 3. 動作テスト

1. **商品カテゴリを選択**（例：化粧品）
2. **文章の種類を選択**（例：キャッチコピー）
3. **テスト文章を入力**:
   - 問題のない例: 「毎日のお手入れで、うるおいのある肌へ」
   - 問題のある例: 「シミが消える美容液」
4. **チェック開始ボタンをクリック**

### 4. 確認ポイント

✅ APIエンドポイントが`https://yakki-checker.onrender.com`になっていること
✅ 400エラーが発生しないこと
✅ 薬機法チェック結果が正常に表示されること
✅ リライト案が3つ表示されること

### 5. デバッグ情報の確認

ブラウザの開発者ツール（F12）を開いて、コンソールタブで以下を確認:
- `🔑 APIキー設定済み` が表示される
- `🌐 API URL: https://yakki-checker.onrender.com/api/check` が表示される
- エラーが発生していない

## 注意事項

- 本番環境のAPIを使用するため、初回アクセス時は起動に30〜60秒かかる場合があります
- Render.comの無料プランのため、15分間アクセスがないとスリープ状態になります
- スリープ状態からの復帰には再度30〜60秒かかります

## トラブルシューティング

### もしエラーが発生した場合

1. キャッシュをクリア: `Ctrl+Shift+R`（Windows）または `Cmd+Shift+R`（Mac）
2. ブラウザを完全に終了して再起動
3. サーバーを再起動:
   ```bash
   # サーバーを停止（Ctrl+C）
   # 再度起動
   python3 -m http.server 8000
   ```

## 元の設定に戻す場合

開発環境でローカルAPIを使用したい場合は、`config.js`の以下の部分を修正してください:

1. `getApiUrl`関数を元に戻す（コメントアウトされた部分を復活）
2. `getApiKey`関数の条件分岐を元に戻す

ただし、ローカルのバックエンドサーバー（Flask）の起動が必要になります。